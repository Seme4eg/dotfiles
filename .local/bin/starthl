#!/bin/bash

cd ~

export _JAVA_AWT_WM_NONREPARENTING=1
export XCURSOR_SIZE=24

export QT_QPA_PLATFORMTHEME=qt5ct
export QT_WAYLAND_DISABLE_WINDOWDECORATION=1
export QT_QPA_PLATFORM="wayland;xcb"

# XDG specifications fail-save
export XDG_SESSION_TYPE=wayland
export XDG_CURRENT_DESKTOP=Hyprland
export XDG_SESSION_DESKTOP=Hyprland

export MOZ_ENABLE_WAYLAND=1
export WLR_BACKEND=vulkan # new
export GDK_BACKEND="wayland,x11" # new
#export WLR_DRM_DEVICES=/dev/dri/card0
export WLR_NO_HARDWARE_CURSORS=1

export $(dbus-launch --exit-with-session) # for telega notifications

if [[ -e /dev/dri/card1 ]]; then
  :
else
  export GBM_BACKEND=nvidia-drm # causes firefox to crash on start
  export LIBVA_DRIVER_NAME=nvidia
  export __GLX_VENDOR_LIBRARY_NAME=nvidia
fi

exec Hyprland
