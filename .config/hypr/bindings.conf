
# --- Apps ---

bind=SUPER,Return,exec,footclient
# TODO: remove it
bind=SUPERALT,Return,exec,alacritty
# ;dimaround works meh, starts blinking on and off rapidly from time to time
bind = SUPERCTRL, Return, exec, [float] foot # ;noanim

# switch to a submap 'apps'
bind=SUPER,A,submap,apps

submap=apps
bind=SUPER,S,exec,hyprctl dispatch submap reset; steam
# bind=SUPER,E,exec,hyprctl dispatch submap reset; emacsclient -c
bind=SUPER,E,exec,hyprctl dispatch submap reset; emacs
bind=SUPER,V,exec,hyprctl dispatch submap reset; easyeffects
bind=SUPER,W,exec,gtk-launch webcord.desktop; hyprctl dispatch submap reset
bind=SUPER,A,exec,hyprctl dispatch submap reset; waydroid app launch com.swiftsoft.anixartd
# default reset to go back to the global submap
bind=SUPER,bracketleft,submap,reset
# return to the global submap
submap=reset

# playerctl commands
bind=SUPER,P,exec,playerctl play-pause
bind=SUPERSHIFTCTRL,P,exec,playerctl stop
bind=SUPER,bracketleft,exec,playerctl previous
bind=SUPER,bracketright,exec,playerctl next
bind=SUPER,comma,exec,playerctl position 5-
bind=SUPER,period,exec,playerctl position 5+

# Lid events (all switches listed in `hyrpctl devices`)
# toggle
# bindl=,switch:Lid Switch,exec,swaylock --grace 0
bindl=,switch:on:Lid Switch,exec,change-theme; sync_tz_and_loc; scur wlsunset; hyprctl keyword monitor "eDP-1,highrr,0x0,1.7"
bindl=,switch:off:Lid Switch,exec,hyprctl keyword monitor "eDP-1, disable"

# --- Notifications ---
bind=SUPER,N,submap,notifs
submap=notifs
bind=SUPER,N,exec,swaync-client -t; hyprctl dispatch submap reset # toggle panel
bind=SUPER,H,exec,swaync-client --hide-latest; hyprctl dispatch submap reset
# closes latest only if those are still 'floating', not in control-center
# bind=SUPER,C,exec,swaync-client --close-latest; hyprctl dispatch submap reset
bind=SUPER,C,exec,swaync-client -C; hyprctl dispatch submap reset # clear all
bind=SUPER,R,exec,sh ~/.config/swaync/reload.sh; hyprctl dispatch submap reset
# default reset to go back to the global submap
bind=SUPER,bracketleft,submap,reset
# return to the global submap
submap=reset

# --- Utility apps ---

# passing cache-dir from here cuz idk how to pass XDG_CACHE_HOME to rofi config
bind=SUPER,O,exec,rofi -show combi -cache-dir $XDG_CACHE_HOME/rofi
bind=SUPER,I,exec,rofi -show run -cache-dir $XDG_CACHE_HOME/rofi
bind=SUPER,U,exec,rofi-udiskie
bind=SUPERCTRL,I,exec,rofi-pacman -i
bind=SUPERCTRL,R,exec,rofi-pacman -r
bind=SUPERSHIFT,O,exec,rofi-wp
bind=SUPER,Y,exec,cliphist list | rofi -dmenu | cliphist decode | wl-copy
bind=SUPER,8,exec,record
# sigint, not sigkill, otherwise no mime type
bind=SUPER,9,exec,say -e "Stopping recording"; sleep 1; pkill -2 record;

# full screenshot to folder
bind=,Print,exec,grim ~/Pictures/DCIM/Screenshots/$(date +"%Y_%m_%d_%T_grim.png")
# full screenshot to clipboard
bind=SUPER,Print,exec,grim - | wl-copy
# partial screenshot to clipboard
bind=CTRL,Print,exec,grim -g "$(slurp)" - | wl-copy
# partial screenshot to folder
bind=SUPERCTRL,Print,exec,grim -g "$(slurp)" ~/Pictures/Pictures/Screenshots/$(date +"%Y_%m_%d_%T_grim.png")

# pkexec to escalate privileges, my user ain't in video group
bindel=,XF86MonBrightnessDown,exec,pkexec /usr/bin/brillo -q -U 5 && brillo -O
bindel=,XF86MonBrightnessUp,exec,pkexec /usr/bin/brillo -q -A 5 && brillo -O

bind=SUPERALT,C,exec,change-theme
bind=SUPERSHIFT,C,exec,change-theme -l # light
bind=SUPERALTSHIFT,C,exec,change-theme -d # delete current
bind=SUPER,Z,exec,swaylock

# --- Audio ---

bindel=,XF86AudioRaiseVolume,exec,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel=,XF86AudioLowerVolume,exec,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl=,XF86AudioMute,exec,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
binde=CTRL,XF86AudioRaiseVolume,exec,wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 5%+
binde=CTRL,XF86AudioLowerVolume,exec,wpctl set-volume @DEFAULT_AUDIO_SOURCE@ 5%-
bind=CTRL,XF86AudioMute,exec,wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

bind=SUPER,Q,killactive
bindl=SUPERCTRL,Q,exit

# --- Somewhat all-window bindings ---

bind=SUPERSHIFT,Return,workspaceopt,allfloat
bind=SUPERSHIFT,P,workspaceopt,allpseudo

bind=SUPER,F,togglefloating
bind=SUPER,C,centerwindow
bind=SUPERALT,P,pin

bind=SUPERSHIFT,F,fullscreen,0 # true fullscreen
bind=SUPERCTRL,F,fullscreen,1 # maximize (gaps left)
bind=SUPER,T,toggleopaque # remove transparency

# Grouping
bind=SUPER,G,togglegroup
bind=SUPERALT,H,moveintogroup,l
bind=SUPERALT,J,moveintogroup,d
bind=SUPERALT,K,moveintogroup,u
bind=SUPERALT,L,moveintogroup,r
bind=SUPERALT,G,moveoutofgroup
bind=SUPERCTRL,G,togglesplit # horizontal / vertical


# --- H J K L for tiling, floating, grouped together ---

bind=SUPER,H,movefocus,l
bind=SUPER,H,bringactivetotop
bind=SUPER,J,cyclenext
bind=SUPER,J,changegroupactive,f
bind=SUPER,J,bringactivetotop
bind=SUPER,K,cyclenext,prev
bind=SUPER,K,changegroupactive,b
bind=SUPER,K,bringactivetotop
bind=SUPER,L,movefocus,r
bind=SUPER,L,bringactivetotop

bind=SUPERSHIFT,H,movewindow,l
bind=SUPERSHIFT,J,movewindow,d
bind=SUPERSHIFT,K,movewindow,u
bind=SUPERSHIFT,L,movewindow,r

bind=SUPERCTRL,H,movefocus,l
bind=SUPERCTRL,J,movefocus,d
bind=SUPERCTRL,K,movefocus,u
bind=SUPERCTRL,L,movefocus,r

# will switch to a submap called resize
bind=SUPER,R,submap,resize

submap=resize
binde=SUPER,H,resizeactive,-10 0
binde=SUPER,J,resizeactive,0 10
binde=SUPER,K,resizeactive,0 -10
binde=SUPER,L,resizeactive,10 0

# use reset to go back to the global submap
bind=SUPER,bracketleft,submap,reset

# will reset the submap, meaning end the current one and return to the global one
submap=reset

# there is also 'moveactive' command which for now i didn't find usage for

bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5

bind=SUPERCTRL,1,movetoworkspace,1
bind=SUPERCTRL,2,movetoworkspace,2
bind=SUPERCTRL,3,movetoworkspace,3
bind=SUPERCTRL,4,movetoworkspace,4
bind=SUPERCTRL,5,movetoworkspace,5

bind=SUPERSHIFT,1,movetoworkspacesilent,1
bind=SUPERSHIFT,2,movetoworkspacesilent,2
bind=SUPERSHIFT,3,movetoworkspacesilent,3
bind=SUPERSHIFT,4,movetoworkspacesilent,4
bind=SUPERSHIFT,5,movetoworkspacesilent,5

bindm=SUPERCTRL,mouse:272,movewindow
bindm=SUPERALT,mouse:272,resizewindow
