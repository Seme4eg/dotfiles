# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# --- Terminals ---
# Define terminal tag to style them uniformly
windowrule = tag +terminal, class:(Alacritty|kitty|com.mitchellh.ghostty)
windowrulev2 = size 940 540, tag:terminal
windowrule = scrolltouchpad 1.5, tag:terminal

windowrule = minsize 940 540,class:Emacs
windowrule = bordersize 1, floating:1
# active/inactvie border color respectively
windowrule = bordercolor $foreground $color5, floating:1

# doing just 'minsize 940 540,floating:1' will make even steam tiny windows big..

windowrule = idleinhibit fullscreen, title:.*
windowrule = bordersize 1, pinned:1
windowrule = noinitialfocus, pinned:1
windowrule = nofollowmouse, pinned:1
windowrule = maxsize 560 320, pinned:1 # dynamic rule

# group rules
windowrule = group set, class:brave-browser|emacs
windowrule = workspace 1 silent, class:brave-browser
# no group windows anywhere besides 1st workspace
windowrule = group deny, workspace:2 # unset will work as well
windowrule = group deny, workspace:3
windowrule = group deny, workspace:4
windowrule = group deny, workspace:5

# --- Picture-in-Picture rules ---
windowrule = tag +pip, title:(Picture.{0,1}in.{0,1}[Pp]icture)
windowrule = move 100%-w-300 0%, tag:pip
# windowrule = size 560 320, tag:pip
windowrule = size 600 338, tag:pip
windowrule = opacity 1.0 override 1.0 override, tag:pip
# Picture-in-picture overlays
windowrule = float, tag:pip
windowrule = pin, tag:pip
windowrule = keepaspectratio, tag:pip
windowrule = noborder, tag:pip
# yes.. you need to suppress ALL those events in order for popup windows to not
# 'unmaximise' your fullscreen clients..
windowrule = suppressevent fullscreen, tag:pip
windowrule = suppressevent maximize, tag:pip
windowrule = suppressevent activatefocus, tag:pip
windowrule = noinitialfocus, tag:pip

# Some video sites should never have opacity applied to them
windowrule = opacity 1.0 1.0, initialTitle:((?i)(?:[a-z0-9-]+\.)*youtube\.com_/|app\.zoom\.us_/wc/home)

# don't mess me my gaming
windowrule = workspace 1 silent, class:Pinentry-gtk
windowrule = workspace 1 silent, class:gcr-prompter

# --- mpv ---
windowrule = opacity 1.0 override 1.0 override, class:mpv
windowrule = noblur, class:mpv

# --- gaming stuff ---

windowrule = workspace 2 silent, class:vesktop
windowrule = workspace 4 silent, class:com.github.wwmm.easyeffects
windowrule = workspace 3 silent, class:heroic

# --- Floating windows ---
windowrule = tag +floating-window, class:(TUI.float|com.gabm.satty)
windowrule = tag +floating-window, class:(xdg-desktop-portal-gtk|DesktopEditors), title:^(Open.*Files?|Open [F|f]older.*|Save.*Files?|Save.*As|Save|All Files|.*wants to [open|save].*|[C|c]hoose.*)

windowrule = float, tag:floating-window
windowrule = group barred, tag:floating-window
windowrule = center, tag:floating-window
windowrule = size 940 540, tag:floating-window

# Fullscreen screensaver
windowrule = fullscreen, class:Screensaver

# No transparency on media windows
windowrule = opacity 1 1, class:^(zoom|vlc|mpv|org.kde.kdenlive|com.obsproject.Studio|com.github.PintaProject.Pinta|imv|org.gnome.NautilusPreviewer)$

# --- Steam ---
windowrule = workspace 3 silent, class:steam
windowrule = float, class:steam
windowrule = center, class:steam, title:Steam
windowrule = opacity 1 1, class:steam
windowrule = size 1100 700, class:steam, title:Steam
windowrule = size 460 800, class:steam, title:Friends List
windowrule = idleinhibit fullscreen, class:steam
# games
windowrule = workspace 3 silent, class:(steam_app)(.*)
windowrule = noblur, class:steam
windowrule = opacity 1.0 override 1.0 override, class:steam
windowrule = noblur, class:(steam_app)(.*)
windowrule = opacity 1.0 override 1.0 override, class:steam_app.*
windowrule = noanim, class:(steam_app)(.*)
windowrule = rounding 0, class:(steam_app)(.*)

# --- layer rules ---
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = animation popin 85%, rofi
# layerrule = unset, rofi
